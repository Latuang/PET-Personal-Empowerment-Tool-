/* Make sure PET stays interactive & above page overlays */
#pet-root { z-index: 2147483647; }
#pet-root, #pet-root * { pointer-events: auto; }

#pet-root {
  position: fixed;
  bottom: 16px;
  right: 16px;
  z-index: 2147483647;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* üëá Tweak --mouth-y until the pointer hits the mouth perfectly. */
.pet-wrap {
  position: relative;
  display: block;
  user-select: none;
  --avatar: 72px;
  --gap: 10px;
  --mouth-y: 22px;   /* ‚Üê try 20‚Äì28 depending on your PNG */
}

.pet-avatar {
  width: var(--avatar);
  height: var(--avatar);
  background: center / contain no-repeat;
  cursor: grab;
  will-change: transform;
  animation: petFloat 4s ease-in-out infinite;
}
@keyframes petFloat { 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }

.pet-bubble {
  position: absolute;
  /* top is set by JS each time based on --mouth-y */
  max-width: min(32ch, calc(100vw - 160px));
  min-width: 16ch;
  background: #fff; color:#000;
  border: 1px solid rgba(0,0,0,.14);
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.14);
  padding: 10px 14px;
  font-size: clamp(13px, 0.95rem, 15px);
  line-height: 1.35;
  text-wrap: pretty; overflow-wrap: break-word; hyphens: auto;
  opacity: 0; transform: translateY(4px) scale(.98);
  transition: opacity .22s, transform .22s;
  pointer-events: none;
}
.pet-bubble.show   { opacity: 1; transform: translateY(0) scale(1); }
.pet-bubble.fadeout{ opacity: 0; transform: translateY(4px) scale(.98); }

.pet-bubble.right { left: calc(var(--avatar) + var(--gap)); }
.pet-bubble.right::before, .pet-bubble.right::after {
  content:""; position:absolute;
  top: var(--tail-y, 22px); left:-10px;
  border-top:8px solid transparent; border-bottom:8px solid transparent;
}
.pet-bubble.right::before { border-right:10px solid #fff; }
.pet-bubble.right::after  { left:-11px; border-right:11px solid rgba(0,0,0,.14); filter: blur(.2px); }

.pet-bubble.left { right: calc(var(--avatar) + var(--gap)); }
.pet-bubble.left::before, .pet-bubble.left::after {
  content:""; position:absolute;
  top: var(--tail-y, 22px); right:-10px;
  border-top:8px solid transparent; border-bottom:8px solid transparent;
}
.pet-bubble.left::before  { border-left:10px solid #fff; }
.pet-bubble.left::after   { right:-11px; border-left:11px solid rgba(0,0,0,.14); filter: blur(.2px); }

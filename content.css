/* PET bubble + avatar â€” compact & cute */
#pet-root { position: fixed; bottom: 16px; right: 16px; z-index: 2147483647; }
#pet-root, #pet-root * { pointer-events: auto; }
#pet-root { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; }

.pet-wrap { position: relative; display: block; user-select: none; --avatar: 72px; --gap: 10px; --mouth-y: 22px; }

.pet-avatar { width: var(--avatar); height: var(--avatar); cursor: grab; will-change: transform; animation: petFloat 4s ease-in-out infinite; position: relative; }
.pet-img { width: 100%; height: 100%; object-fit: contain; image-rendering: -webkit-optimize-contrast; mix-blend-mode: multiply; filter: drop-shadow(0 6px 18px rgba(0,0,0,.18)); }

@keyframes petFloat { 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }

.pet-bubble {
  position: absolute; max-width: min(30ch, calc(100vw - 160px)); min-width: 14ch;
  background: #fff; color:#2b2118; border: 1px solid rgba(0,0,0,.12);
  border-radius: 14px; box-shadow: 0 12px 28px rgba(0,0,0,.14);
  padding: 10px 12px; font-size: 14px; line-height: 1.33;
  text-wrap: pretty; overflow-wrap: break-word; hyphens: auto; pointer-events: none;
  opacity: 0; transform: translateY(4px) scale(.98); transition: opacity .22s, transform .22s;
}
.pet-bubble.show   { opacity: 1; transform: translateY(0) scale(1); }
.pet-bubble.fadeout{ opacity: 0; transform: translateY(4px) scale(.98); }

.pet-bubble.right { left: calc(var(--avatar) + var(--gap)); }
.pet-bubble.right::before, .pet-bubble.right::after {
  content:""; position:absolute; top: var(--tail-y, 22px); left:-10px;
  border-top:8px solid transparent; border-bottom:8px solid transparent;
}
.pet-bubble.right::before { border-right:10px solid #fff; }
.pet-bubble.right::after  { left:-11px; border-right:11px solid rgba(0,0,0,.14); filter: blur(.2px); }

.pet-bubble.left { right: calc(var(--avatar) + var(--gap)); }
.pet-bubble.left::before, .pet-bubble.left::after {
  content:""; position:absolute; top: var(--tail-y, 22px); right:-10px;
  border-top:8px solid transparent; border-bottom:8px solid transparent;
}
.pet-bubble.left::before  { border-left:10px solid #fff; }
.pet-bubble.left::after   { right:-11px; border-left:11px solid rgba(0,0,0,.14); filter: blur(.2px); }

/* Keep from eating clicks; avatar is the click target */
#pet-root .pet-bubble { pointer-events: none; }
